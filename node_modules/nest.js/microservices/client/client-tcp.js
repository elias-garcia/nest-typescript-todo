"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsocket = require("json-socket");
const client_proxy_1 = require("./client-proxy");
class ClientTCP extends client_proxy_1.ClientProxy {
    constructor({ port, host }) {
        super();
        this.DEFAULT_HOST = 'localhost';
        this.DEFAULT_PORT = 3000;
        this.port = port || this.DEFAULT_PORT;
        this.host = host || this.DEFAULT_HOST;
    }
    sendSingleMessage(msg, callback) {
        jsocket.sendSingleMessageAndReceive(this.port, this.host, msg, this.createCallback(callback));
    }
    createCallback(callback) {
        return (err, res) => {
            if (err) {
                callback(err);
                return;
            }
            callback(res.err, res.response);
        };
    }
}
exports.ClientTCP = ClientTCP;
