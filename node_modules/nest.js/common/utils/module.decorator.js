"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
const invalid_module_config_exception_1 = require("../../errors/exceptions/invalid-module-config.exception");
const constants_1 = require("../constants");
exports.Module = (props) => {
    const propsKeys = Object.keys(props);
    const acceptableParams = [constants_1.metadata.MODULES, constants_1.metadata.EXPORTS, constants_1.metadata.COMPONENTS, constants_1.metadata.CONTROLLERS];
    propsKeys.forEach((prop) => {
        if (acceptableParams.findIndex((param) => param === prop) < 0) {
            throw new invalid_module_config_exception_1.InvalidModuleConfigException(prop);
        }
    });
    return (target) => {
        for (let property in props) {
            if (props.hasOwnProperty(property)) {
                Reflect.defineMetadata(property, props[property], target);
            }
        }
    };
};
